function fcn_showLightbox(t){const e=_$$$("fictioneer-lightbox"),o=_$(".lightbox__content");let l=!1,i=null;if(o.innerHTML="",t.classList.add("lightbox-last-trigger"),"IMG"==t.tagName?(i=t.cloneNode(),l=!0):t.href&&(i=document.createElement("img"),i.src=t.href,l=!0),l&&i){["class","style","height","width"].forEach((t=>i.removeAttribute(t))),o.appendChild(i),e.classList.add("show");const t=e.querySelector(".lightbox__close");t?.focus(),t?.blur()}}document.body.addEventListener("click",(t=>{const e=t.target.closest("[data-lightbox]:not(.no-auto-lightbox)");e&&(t.preventDefault(),fcn_showLightbox(e))})),document.body.addEventListener("keydown",(t=>{const e=t.target.closest("[data-lightbox]:not(.no-auto-lightbox)");e&&(" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),fcn_showLightbox(e)))})),document.querySelectorAll(".lightbox__close, .lightbox").forEach((t=>{t.addEventListener("click",(t=>{if("IMG"!=t.target.tagName){_$$$("fictioneer-lightbox").classList.remove("show");const t=_$(".lightbox-last-trigger");t?.focus(),t?.blur(),t?.classList.remove("lightbox-last-trigger")}}))}));